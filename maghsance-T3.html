<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
<meta http-equiv="Content-Security-Policy" content="connect-src 'self' https://mj-production-43c2.up.railway.app wss://mj-production-43c2.up.railway.app https://catchat-a7zb.onrender.com https://mj-5x4w.onrender.com wss://mj-5x4w.onrender.com;">
<meta property="og:image" content="backg/endshures.jpg">
<meta property="og:image:type" content="image/png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta property="og:title" content="超科學麻將社">
<title>超科學麻將社</title>
<script type="text/javascript" src="jquery2.min.js"></script>
<script type="text/javascript" src="zutop.js"></script>
<script src="https://cdn.jsdelivr.net/npm/socket.io-client@4.7.5/dist/socket.io.min.js"></script>
<body>
<script>

allmgd=[]
cantoutcd=[]
etmgd=[1,1,1,1,33,33,33,33]///,[25,26,27]
rlmgd=[[33,33,33,33,1,2,3,2,11,12,13,12]]
daetp=[0,0,0,0]

lbmgds=[0,0,0,0]
ple=3
roomId="025024"
mtd=2

pled=0


plmgd=[2,2,2,3,4,5,6,6,7,8,9]
mytsale=0
wincad=11

dimwincad=0
dubnum=0
ineyes=0

bkmgd=JSON.parse(JSON.stringify(plmgd))///複製

console.log(pled)

yk0=0///目前台數

fourcdr=0

whtai=[]

rlmgdbk=JSON.parse(JSON.stringify(rlmgd[pled]))///複製

cpf=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]

plmgd.forEach(function(x) { cpf[x] = (cpf[x] || 0)+1; })///計算出現過的總張數

rlmgd[pled].forEach(function(x) { cpf[x] = (cpf[x] || 0)+1; })///計算出現過的總張數

for(let i=3;i<20;i++){

if(rlmgd[pled][i]!=undefined){

cpf[rlmgd[pled][i]]--

}

i+=3

}

for(let i=28;i<35;i++){

cpf[i]=(cpf[i]==4)?3:cpf[i]

}

biword=cpf[28]+cpf[29]+cpf[30]+cpf[31]+cpf[32]+cpf[33]+cpf[34]

//////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////清一色

for(let s=0;s<3;s++){

nuword=0

for(let i=s*9+1;i<s*9+10;i++){

nuword+=cpf[i]

}

if(nuword==0&&biword==17){

yk0+=16///字一色

whtai.push("字一色")

break

}

if(nuword==17&&biword==0){

yk0+=8///清一色

whtai.push("清一色")

break

}

console.log(biword,nuword)

if(biword+nuword==17&&biword>0){

yk0+=4///湊一色

whtai.push("湊一色")

break

}

}



function sortCad(){///整理方式

manum=0///組數

crdeye=0///眼

dacadnum=[]///萬筒條各個組數

cpf=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]

canet=[]
canet[0]=[]
canet[1]=[3]
canet[2]=[1,4]
canet[3]=[2,5]
canet[4]=[3,6]
canet[5]=[4,7]
canet[6]=[5,8]
canet[7]=[6,9]
canet[8]=[7]
canet[9]=[]
canet[10]=[12]
canet[11]=[10,13]
canet[12]=[11,14]
canet[13]=[12,15]
canet[14]=[13,16]
canet[15]=[14,17]
canet[16]=[15,18]
canet[17]=[16]
canet[18]=[]
canet[19]=[21]
canet[20]=[19,22]
canet[21]=[20,23]
canet[22]=[21,24]
canet[23]=[22,25]
canet[24]=[23,26]
canet[25]=[24,27]
canet[26]=[25]
canet[27]=[]



plmgd.forEach(function(x) { cpf[x] = (cpf[x] || 0)+1; })///計算出現過的總張數

cpf.splice(0,1)

cpf.length=34


for(let i=27;i<34;i++){

if(cpf[i]>0){///超過1

cpf[i]=(cpf[i]<5)?cpf[i]:4

if(zutop[cpf[i]]!=undefined){

manum+=zutop[cpf[i]][0]///組數

crdeye+=zutop[cpf[i]][1]///眼

}

}

}

for(let k=0;k<3;k++){

lanhow=[]///連號

for(let i=k*9;i<k*9+9;i++){

if(cpf[i]>0&&i==k*9+8){///超過1

cpf[i]=(cpf[i]<5)?cpf[i]:4

lanhow.push(cpf[i])

lanhow=lanhow.join("")

if(zutop[lanhow]!=undefined){

manum+=zutop[lanhow][0]///組數

crdeye+=zutop[lanhow][1]///眼

}

if(zutop[lanhow]==undefined){

manum+=0///組數

crdeye+=0///眼

}

lanhow=[]

break

}


if(cpf[i]>0){///超過1

cpf[i]=(cpf[i]<5)?cpf[i]:4

lanhow.push(cpf[i])

for(let s=i+1;s<k*9+9;s++){

if(cpf[s]>0){///超過1

cpf[s]=(cpf[s]<5)?cpf[s]:4

lanhow.push(cpf[s])

}


if(cpf[s]==0||s==k*9+8){///沒超過1

lanhow=lanhow.join("")


if(zutop[lanhow]!=undefined){

manum+=zutop[lanhow][0]///組數

crdeye+=zutop[lanhow][1]///眼

}

if(zutop[lanhow]==undefined){

manum+=0///組數

crdeye+=0///眼

alert(lanhow)

}

lanhow=[]

i=s///(s!=8)?s-1:s

break

}

}

}

}

dacadnum.push(manum+crdeye)

}

dacadnum[1]=dacadnum[1]-dacadnum[0]
dacadnum[2]=dacadnum[2]-dacadnum[1]-dacadnum[0]
dacadnum[3]=0

for(let i=27;i<34;i++){

if(cpf[i]>=2){///

dacadnum[3]++

}

}

}

///////////////////////////////////////




</script>