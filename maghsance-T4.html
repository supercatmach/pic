<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
<meta http-equiv="Content-Security-Policy" content="
  connect-src 'self' https://mj-production-43c2.up.railway.app wss://mj-production-43c2.up.railway.app https://catchat-a7zb.onrender.com https://mj-5x4w.onrender.com wss://mj-5x4w.onrender.com;
  style-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com;">
<meta property="og:image" content="backg/endshures.jpg">
<meta property="og:image:type" content="image/png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta property="og:title" content="超科學麻將社">
<title>超科學麻將社</title>
<script type="text/javascript" src="jquery2.min.js"></script>
<script type="text/javascript" src="zutop.js"></script>
<script src="https://cdn.jsdelivr.net/npm/socket.io-client@4.7.5/dist/socket.io.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/js/all.min.js" crossorigin="anonymous"></script>
<div  style="position: fixed; top: 10px; left:190px;background:#ffffff;width:530;height:40;filter:opacity(0.6);"></div>
<!-- 載入 Font Awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<div class="marquee">
  <span>BGM:party-game-bgm-vol2</span>
</div>
<!-- 音量控制區塊 -->
<div style="position: fixed; top: 15px; left:200px;">
  <i id="volumeIcon" class="fas fa-volume-up" style="font-size: 30px; cursor: pointer;"></i>
  <input id="volumeSlider" type="range" min="0" max="1" step="0.01" value="0.3" style="position:absolute;top: 5px; left:50px;">
</div>

<style>
.marquee {
  width: 300px;
  overflow: hidden;
  white-space: nowrap;
  /* background: transparent; 透明背景是預設可以省略 */
  /* border: none; */
  box-sizing: border-box;
  padding: 5px 0;
  font-size: 20px;
position:absolute;
top: 5px;
left:350px;
}

.marquee span {
  display: inline-block;
  padding-left: 100%;    /* 從右邊開始 */
  animation: marquee 10s linear infinite;
}

@keyframes marquee {
  0%   { transform: translateX(0%); }
  100% { transform: translateX(-100%); }
}
</style>

<body>

<script>
  const bgm = new Audio("https://raw.githubusercontent.com/supercatmach/music/main/party-game-bgm-vol2-242467.mp3");
  bgm.loop = true;
  bgm.volume = 1; // 初始音量
  bgm.play();

  // 音量滑桿控制
  const volumeSlider = document.getElementById("volumeSlider");
  const volumeIcon = document.getElementById("volumeIcon");

  volumeSlider.addEventListener("input", () => {
    bgm.volume = parseFloat(volumeSlider.value);
    updateVolumeIcon();
  });

  volumeIcon.addEventListener("click", () => {
    // 點擊圖示切換靜音 / 回復
    if (bgm.volume > 0) {
      bgm.volume = 0;
      volumeSlider.value = 0;
    } else {
      bgm.volume = 1;
      volumeSlider.value = 1;
    }
    updateVolumeIcon();
  });

  function updateVolumeIcon() {
    if (bgm.volume === 0) {
      volumeIcon.className = "fas fa-volume-mute";
    } else if (bgm.volume < 0.5) {
      volumeIcon.className = "fas fa-volume-down";
    } else {
      volumeIcon.className = "fas fa-volume-up";
    }
  }

  // 點擊啟動音樂（瀏覽器限制）
  document.addEventListener("click", () => {
    bgm.play();
  }, { once: true });


</script>